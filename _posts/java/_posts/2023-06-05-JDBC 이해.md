---
layout: post
date: 2023-06-05 09:17:25+0900
title: JDBC 이해
categories: java
tag: [jdbc]
---

# JDBC 이해

### JDBC 등장 이유

어플리케이션을 개발할 때 중요한 데이터는 대부분 데이터베이스에 보관한다.

클라이언트가 애플리케이션 서버를 통해 데이터를 저장하거나 조회하면, 애플리케이션 서버는 다음 과정을 통해서 데이터베이스를 사용한다.

| ![사진]({{"/assets/img/java/23-06-05/클라이언트, 애플리케이션 서버, DB.png" | relative_url}}) |
|:--------------------------------------------------------------------:|
|                         클라이언트, 애플리케이션 서버, DB                          |


### 애플리케이션 서버와 DB - 일반적인 사용법

| ![사진]({{"/assets/img/java/23-06-05/일반적인 사용법.png" | relative_url}}) |
|:--------------------------------------------------------------------:|
|                         일반적 사용법                          |

1. 커넥션 연결: 주로 TCP/IP를 사용해서 커넥션을 연결한다. 
2. SQL 전달: 애플리케이션 서버는 DB가 이해할 수 있는 SQL을 연결된 커넥션을 통해 DB에 전달한다. 
3. 결과 응답: DB는 전달된 SQL을 수행하고 그 결과를 응답한다. 애플리케이션 서버는 응답 결과를 활용한다.

### 애플리케이션 서버와 DB - DB 변경

| ![사진]({{"/assets/img/java/23-06-05/DB 변경.png" | relative_url}}) |
|:--------------------------------------------------------------------:|
|                         DB 변경                          |


문제는 각각의 데이터베이스마다 커넥션을 연결하는 방법, SQL을 전달하는 방법, 그리고 결과를 응답 받는 방법이 모두 다르다는 점이다.

참고로 관계형 데이터베이스는 수십개가 있다.

여기에는 2가지 큰 문제가 있다.

1. 데이터베이스를 다른 종류의 데이터베이스로 변경하면 애플리케이션 서버에 개발된 데이터베이스 사용 코드도 함께 변경해야 한다.
2. 개발자가 각각의 데이터베이스마다 커넥션 연결, SQL 전달, 그리고 그 결과를 응답 받는 방법을 새로 학습해야 한다.

이런 문제를 해결하기 위해 JDBC라는 자바 표준이 등장한다.


## JDBC 표준 인터페이스

대표적으로 다음 3가지 기능을 표준 인터페이스로 정의해서 제공한다.

- java.sql.Connection - 연결

- java.sql.Statement - SQL을 담은 내용

- java.sql.ResultSet - SQL 요청 응답

| ![사진]({{"/assets/img/java/23-06-05/JDBC 표준 인터페이스.png" | relative_url}}) |
|:----------------------------------------------------------:|
|                       JDBC 표준 인터페이스                        |

이 JDBC 인터페이스를 각각의 DB 벤더 (회사)에서 자신의 DB에 맞도록 구현해서 라이브러리로 제공하는데, 이것을 JDBC 드라이버라 한다. 

예를 들어서 MySQL DB에 접근할 수 있는 것은 MySQL JDBC 드라이버라 하고, Oracle DB에 접근할 수 있는 것은 Oracle JDBC 드라이버라 한다.

### 정리

JDBC의 등장으로 다음 2가지 문제가 해결되었다.

1. 데이터베이스를 다른 종류의 데이터베이스로 변경하면 애플리케이션 서버의 데이터베이스 사용 코드도 함께 변경해야하는 문제
  - 애플리케이션 로직은 이제 JDBC 표준 인터페이스에만 의존한다. 
  - 따라서 데이터베이스를 다른 종류의 데이터베이스로 변경하고 싶으면 JDBC 구현 라이브러리만 변경하면 된다. 
  - 다른 종류의 데이터베이스로 변경해도 애플리케이션 서버의 사용 코드를 그대로 유지할 수 있다.
2. 개발자가 각각의 데이터베이스마다 커넥션 연결, SQL 전달, 그리고 그 결과를 응답 받는 방법을 새로 학습해야하는 문제
  - 개발자는 JDBC 표준 인터페이스 사용법만 학습하면 된다. 
  - 한번 배워두면 수십개의 데이터베이스에 모두 동일하게 적용할 수 있다.

















